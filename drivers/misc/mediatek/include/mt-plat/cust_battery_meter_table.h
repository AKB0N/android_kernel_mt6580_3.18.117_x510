#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	30000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 68237},
		{-15, 53650},
		{-10, 42506},
		{ -5, 33892},
		{  0, 27219},
		{  5, 22021},
		{ 10, 17926},
		{ 15, 14674},
		{ 20, 12081},
		{ 25, 10000},
		{ 30, 8315},
		{ 35, 6948},
		{ 40, 5834},
		{ 45, 4917},
		{ 50, 4161},
		{ 55, 3535},
		{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

// T0 -10C
BATTERY_PROFILE_STRUCT battery_profile_t0[] = 
{
{0,4191},
{1,4171},
{2,4152},
{4,4136},
{5,4121},
{7,4107},
{8,4097},
{10,4089},
{11,4078},
{13,4061},
{14,4037},
{15,4014},
{17,3995},
{18,3981},
{20,3969},
{21,3959},
{23,3951},
{24,3942},
{26,3935},
{27,3927},
{28,3917},
{30,3907},
{31,3897},
{33,3888},
{34,3878},
{36,3870},
{37,3861},
{39,3853},
{40,3846},
{42,3838},
{43,3832},
{44,3825},
{46,3820},
{47,3814},
{49,3809},
{50,3804},
{52,3800},
{53,3796},
{55,3791},
{56,3792},
{57,3789},
{59,3787},
{60,3785},
{62,3784},
{63,3782},
{65,3780},
{66,3778},
{68,3776},
{69,3773},
{71,3771},
{72,3767},
{73,3763},
{75,3760},
{76,3754},
{78,3749},
{79,3742},
{81,3735},
{82,3727},
{84,3718},
{85,3711},
{86,3705},
{88,3701},
{89,3697},
{91,3692},
{92,3685},
{94,3670},
{95,3634},
{97,3571},
{98,3465},
{100,3400}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUCT battery_profile_t1[] = 
{
{0,4191},
{1,4172},
{2,4156},
{4,4140},
{5,4126},
{7,4112},
{8,4099},
{10,4090},
{11,4081},
{13,4071},
{14,4056},
{16,4035},
{17,4013},
{18,3995},
{20,3982},
{21,3971},
{23,3962},
{24,3954},
{26,3948},
{27,3941},
{29,3934},
{30,3926},
{32,3918},
{33,3908},
{35,3898},
{36,3887},
{37,3877},
{39,3866},
{40,3857},
{42,3847},
{43,3839},
{45,3832},
{46,3825},
{48,3819},
{49,3813},
{51,3808},
{52,3803},
{54,3799},
{55,3795},
{56,3791},
{58,3788},
{59,3786},
{61,3785},
{62,3784},
{64,3782},
{65,3781},
{67,3780},
{68,3778},
{70,3776},
{71,3774},
{72,3772},
{74,3768},
{75,3764},
{77,3760},
{78,3754},
{80,3748},
{81,3741},
{83,3732},
{84,3723},
{86,3714},
{87,3703},
{89,3695},
{90,3691},
{91,3687},
{93,3683},
{94,3676},
{96,3652},
{97,3591},
{99,3492},
{100,3400}
};           

// T2 25C
BATTERY_PROFILE_STRUCT battery_profile_t2[] =
{
{0,4183},
{1,4167},
{2,4152},
{4,4138},
{5,4123},
{7,4110},
{8,4097},
{10,4084},
{11,4074},
{13,4067},
{14,4055},
{16,4036},
{17,4015},
{19,3998},
{20,3986},
{21,3977},
{23,3970},
{24,3966},
{26,3959},
{27,3951},
{29,3942},
{30,3934},
{32,3926},
{33,3918},
{35,3910},
{36,3903},
{38,3895},
{39,3886},
{40,3875},
{42,3861},
{43,3848},
{45,3838},
{46,3829},
{48,3822},
{49,3816},
{51,3811},
{52,3806},
{54,3802},
{55,3798},
{57,3794},
{58,3790},
{59,3787},
{61,3784},
{62,3781},
{64,3779},
{65,3777},
{67,3775},
{68,3774},
{70,3772},
{71,3770},
{73,3767},
{74,3764},
{76,3759},
{77,3754},
{79,3748},
{80,3743},
{81,3737},
{83,3730},
{84,3720},
{86,3711},
{87,3698},
{89,3689},
{90,3687},
{92,3685},
{93,3682},
{95,3677},
{96,3648},
{98,3579},
{99,3472},
{100,3400}
};     

// T3 50C
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
{0,4180},
{1,4163},
{3,4148},
{4,4133},
{6,4118},
{7,4104},
{9,4091},
{10,4078},
{12,4065},
{13,4053},
{15,4041},
{16,4029},
{18,4018},
{19,4006},
{21,3996},
{22,3985},
{24,3975},
{25,3965},
{27,3956},
{28,3946},
{30,3938},
{31,3929},
{33,3921},
{34,3913},
{36,3905},
{37,3898},
{39,3891},
{40,3883},
{42,3874},
{43,3862},
{45,3849},
{46,3837},
{48,3828},
{49,3821},
{51,3815},
{52,3809},
{54,3804},
{55,3800},
{57,3796},
{58,3792},
{60,3788},
{61,3785},
{63,3781},
{64,3779},
{66,3776},
{67,3774},
{69,3772},
{70,3769},
{72,3765},
{73,3757},
{75,3750},
{76,3745},
{78,3739},
{79,3734},
{81,3728},
{82,3724},
{84,3718},
{85,3711},
{87,3701},
{88,3692},
{90,3679},
{91,3674},
{93,3671},
{94,3664},
{96,3630},
{97,3562},
{99,3461},
{100,3400},
{100,3400},
{100,3400}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUCT battery_profile_temperature[] =
{
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0}
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUCT r_profile_t0[] =
{
{535,4191},
{535,4171},
{608,4152},
{613,4136},
{616,4121},
{619,4107},
{636,4097},
{662,4089},
{670,4078},
{662,4061},
{641,4037},
{622,4014},
{610,3995},
{602,3981},
{599,3969},
{599,3959},
{602,3951},
{602,3942},
{602,3935},
{600,3927},
{596,3917},
{591,3907},
{585,3897},
{582,3888},
{577,3878},
{574,3870},
{571,3861},
{569,3853},
{567,3846},
{565,3838},
{564,3832},
{565,3825},
{564,3820},
{563,3814},
{565,3809},
{565,3804},
{566,3800},
{567,3796},
{524,3791},
{544,3792},
{554,3789},
{596,3787},
{611,3785},
{628,3784},
{645,3782},
{662,3780},
{680,3778},
{700,3776},
{720,3773},
{745,3771},
{774,3767},
{806,3763},
{823,3760},
{813,3754},
{923,3749},
{977,3742},
{1038,3735},
{1106,3727},
{1179,3718},
{1268,3711},
{1367,3705},
{1483,3701},
{1592,3697},
{1683,3692},
{1748,3685},
{1800,3670},
{1851,3634},
{1926,3571},
{2068,3465},
{1991,3400}
};      

// T1 0C
R_PROFILE_STRUCT r_profile_t1[] =
{
{382,4191},
{382,4172},
{347,4156},
{391,4140},
{393,4126},
{393,4112},
{398,4099},
{418,4090},
{442,4081},
{444,4071},
{446,4056},
{427,4035},
{406,4013},
{395,3995},
{392,3982},
{391,3971},
{395,3962},
{398,3954},
{404,3948},
{405,3941},
{406,3934},
{404,3926},
{400,3918},
{394,3908},
{388,3898},
{380,3887},
{374,3877},
{366,3866},
{360,3857},
{355,3847},
{350,3839},
{346,3832},
{344,3825},
{343,3819},
{341,3813},
{339,3808},
{338,3803},
{338,3799},
{336,3795},
{334,3791},
{334,3788},
{338,3786},
{344,3785},
{351,3784},
{359,3782},
{369,3781},
{378,3780},
{389,3778},
{400,3776},
{416,3774},
{435,3772},
{459,3768},
{492,3764},
{530,3760},
{569,3754},
{606,3748},
{643,3741},
{678,3732},
{713,3723},
{751,3714},
{789,3703},
{836,3695},
{894,3691},
{965,3687},
{1057,3683},
{1168,3676},
{1292,3652},
{1417,3591},
{1577,3492},
{1908,3400}
};     

// T2 25C
R_PROFILE_STRUCT r_profile_t2[] =
{
{171,4183},
{171,4167},
{169,4152},
{169,4138},
{169,4123},
{172,4110},
{173,4097},
{172,4084},
{178,4074},
{189,4067},
{189,4055},
{176,4036},
{173,4015},
{174,3998},
{179,3986},
{182,3977},
{187,3970},
{195,3966},
{196,3959},
{196,3951},
{197,3942},
{200,3934},
{201,3926},
{203,3918},
{209,3910},
{206,3903},
{208,3895},
{208,3886},
{200,3875},
{189,3861},
{176,3848},
{169,3838},
{163,3829},
{162,3822},
{161,3816},
{161,3811},
{159,3806},
{161,3802},
{162,3798},
{162,3794},
{162,3790},
{163,3787},
{161,3784},
{162,3781},
{162,3779},
{161,3777},
{163,3775},
{163,3774},
{165,3772},
{165,3770},
{165,3767},
{165,3764},
{164,3759},
{162,3754},
{161,3748},
{163,3743},
{166,3737},
{167,3730},
{165,3720},
{169,3711},
{167,3698},
{165,3689},
{169,3687},
{174,3685},
{183,3682},
{200,3677},
{204,3648},
{221,3579},
{258,3472},
{406,3400}
}; 

// T3 50C
R_PROFILE_STRUCT r_profile_t3[] =
{
{106,4180},
{106,4163},
{107,4148},
{106,4133},
{106,4118},
{106,4104},
{107,4091},
{107,4078},
{108,4065},
{109,4053},
{109,4041},
{110,4029},
{110,4018},
{110,4006},
{111,3996},
{112,3985},
{113,3975},
{114,3965},
{116,3956},
{117,3946},
{118,3938},
{120,3929},
{122,3921},
{125,3913},
{127,3905},
{130,3898},
{134,3891},
{136,3883},
{137,3874},
{131,3862},
{123,3849},
{116,3837},
{114,3828},
{112,3821},
{112,3815},
{111,3809},
{112,3804},
{112,3800},
{113,3796},
{114,3792},
{114,3788},
{117,3785},
{117,3781},
{119,3779},
{121,3776},
{122,3774},
{124,3772},
{126,3769},
{125,3765},
{115,3757},
{114,3750},
{115,3745},
{115,3739},
{114,3734},
{114,3728},
{117,3724},
{117,3718},
{116,3711},
{116,3701},
{117,3692},
{114,3679},
{158,3674},
{139,3671},
{131,3664},
{124,3630},
{132,3562},
{158,3461},
{249,3400},
{249,3400},
{249,3400}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUCT r_profile_temperature[] =
{
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0},
{0 , 0}
};    

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

